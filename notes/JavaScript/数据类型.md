# 数据类型

JavaScript中一共有6种数据类型。

| type | 描述 |
| -----: | :---- |
| String | 字符串。 |
| Number | 数值。 |
| Boolean | 布尔值。 |
| Null | 空值。 |
| Undefined | 未定义。 |
| Object | 对象。 |

这 6 中数据类型又分为 `简单数据类型` 和 `复杂数据类型`。

- 简单数据类型：String、Number、Boolean、Null、Undefined。

- 复杂数据类型（引用数据类型）：Object。

## String类型

在 JavaScript 中字符串需要使用引号引起来。

```js
typeof '' // string
```

使用双引号或单引号都可以，但是不要混着使用。

引号不能嵌套，双引号不能放双引号，单引号不能放单引号.

在字符串中我们可以使用 `\` 符作为转义字符，当表示一些特殊字符时可以使用 `\` 符进行转义。

工作中常用的转义字符：

| 转义字符 | 描述 |
| -----: | :---- |
| `\"` | 表示双引号 `"`。 |
| `\'` | 表示单引号 `'`。 |
| `\n` | 表示换行。 |
| `\t` | 表示制表符。（tab 空格） |
| `\\` | 表示 `\`。 |

## Number类型

在 JavaScript 中所有的数值都是 Number 类型。

```js
typeof 1 // number
```

Number 身上有可以表示数值的最大值 / 最小值。

- Number.MAX_VALUE：1.7976931348623157e+308。

- Number.MIN_VALUE（大于零的最小值）：5e-324。

如果使用 Number 表示的数字超过了最大值，则会返回一个 `Infinity `。

- Infinity：表示正无穷。

- -Infinity：表示负无穷。

`NaN` 是一个特殊的数字，表示 `Not A Number`。

使用 typeof 检查 NaN Infinity 都会返回 number。

```js
typeof NaN // number
typeof Infinity // number
```

在 JavaScript 中整数的运算基本可以保证精确，如果进行小数运算，可能得到一个不精确的结果。

```js
0.1 + 0.2 // 0.30000000000000004
```

## Boolean类型

布尔值只有 `true` 和 `false` 两个值，主要用来做逻辑判断。

- true：表示真。

- false：表示假。

```js
typeof true // boolean
typeof false // boolean
```

## Null类型

Null 类型的值只有一个，就是 `null`。

通常我们初始化变量，这个变量之后会被赋值为对象时，使用 null 进行变量的初始化赋值。

```js
const obj = null
```

使用 typeof 检查一个 null 值时，会返回 object。

```js
typeof null // object
```

## Undefined类型

Undefined 类型的值只有一个，就是 `undefined`。

当声明一个变量，但是并不给变量赋值时，它的值就是 undefined。

```js
var str
console.log(str) // undefined
```

使用 typeof 检查一个 undefined值时，会返回 undefined。

```js
typeof undefined // undefined
```

## Object类型

对象属于一种复合的数据类型，在对象中可以保存多个不同数据类型的属性。

### 对象分类

#### 内建对象

由 ES 标准中定义的对象，在任何的 ES 的实现中都可以使用。

比如：`Math`、`String`、`Number`、`Boolean`、`Function`、`Object`...

```js
typeof Math // object
typeof String // object
typeof Number // object
typeof Boolean // object
typeof Function // object
typeof Object // object
```

#### 宿主对象

由 JavaScript 的运行环境提供的对象，目前来讲主要指由浏览器提供的对象。

比如：`BOM`、`DOM`

```js
typeof window // object
typeof document // object
```

#### 自定义对象

由开发人员自己创建的对象。

```js
const obj = new Object()
typeof obj // object
```

### 创建对象

通过 `new` 关键字，或者字面量的方式来创建对象。

```js
const obj1 = new Object
const obj2 = {}

typeof obj1 // object
typeof obj2 // object
```

`new` 关键字作用于构造函数，构造函数是专门用来创建对象的函数。

```js
function Person(name) {
  this.name = name
}

const person = new Person('构造函数')
console.log(person) // Person { name: '构造函数' }
```

对象是由一组一组 `{ key: value }` 形式的键值对组成，多个键值对用英文逗号隔开，最后一组键值对后面不用写逗号。（浏览器会忽略最后一个逗号）

- key：属性名，一个对象中的 key 不能重复。

- value：属性值，可以是任意的数据类型，也可以是一个对象。

使用对象字面量的方式，可以在创建对象时，直接指定对象中的属性。

```js
const obj = {
  name: '字面量'
}
```

对象字面量的属性名可以加引号也可以不加，通常我们都不加，但是要使用一些特殊的属性，则必须加引号。

```js
const obj = {
  @@: '特殊属性' // 报错
}

const obj = {
  '@@': '特殊属性' // 正常
}
```

#### 向对象添加属性

通常我们使用 `object.key = value` 的方式向一个对象添加属性。

```js
const obj = {}
obj.name = '添加属性'
console.log(obj) // { name: '添加属性' }
```

对象的属性名不强制要求遵守标识符的规范，但是我们使用时，还是尽量按照标识符的规范去做。

如果要使用特殊的属性名，不能使用 `object.key = value` 的方式来向一个对象添加属性。

必须使用 `object[key] = value` 这种方式。

```js
const obj = {}
obj.@@ = '添加属性' // 报错
obj['@@'] = '添加属性'
console.log(obj) // { @@: '添加属性' }
```

使用这种方式去操作属性，更加的灵活，在 `[key]` 中可以直接传递一个变量，这样变量值是多少就会操作哪个属性。

```js
const obj = {}
const key = 'name'
obj[key] = '添加属性'
console.log(obj) // { name: '添加属性' }
```

#### 读取对象属性

读取对象属性，跟向对象添加属性的两种方式一样。

```js
const obj = {
  name: '读取属性'
}
obj.name // 读取属性
obj['name'] // 读取属性
```

如果读取对象中的某个属性不存在，不会报错而是会返回 undefined。

```js
const obj = {}
obj.name // undefined
```

#### 修改对象属性

修改对象属性，跟向对象添加属性的两种方式一样。

```js
const obj = {
  name: '修改属性'
}

obj.name = '修改属性-1'
console.log(obj) // { name: '修改属性-1' }

obj['name'] = '修改属性-2'
console.log(obj) // { name: '修改属性-2' }
```

#### 删除对象属性

使用关键字 `delete` 来删除对象属性。

语法：`delete object.key` 或 `delete object[key]`。

```js
const obj = {
  name: '删除属性',
  age: 100
}

delete obj.name
console.log(obj) // { age: 100 }

delete obj['age']
console.log(obj) // {}
```

#### 对象是否包含某个属性

使用 `in` 关键字来检查对象是否包含某个属性。

语法：`key in object`

```js
const obj = {
  name: '包含属性'
}

'name' in obj // true
'age' in obj // false
```

### 对象特点

之所以说对象是一种复制数据类型，跟它的存储方式有很大的关联。

JavaScript 中的变量都是保存到栈内存中的。

基本数据类型的值直接在栈内存中存储，值与值之间是独立存在，修改一个变量不会影响其他的变量。

```js
var str1 = '100'
var str2 = str1
str2 = '200'

console.log(str1) // 100
console.log(str2) // 200
```

对象是保存到堆内存中的，每创建一个新的对象，就会在堆内存中开辟出一个新的空间。

而变量保存的是对象的内存地址（对象的引用），如果两个变量保存的是同一个对象引用，当一个通过一个变量修改属性时，另一个也会受到影响。

```js
const obj1 = {
  name: '100'
}
const obj2 = obj1
obj2.name = '200'

console.log(obj1) // { name: '200' }  
console.log(obj2) // { name: '200' }  
```

当比较两个基本数据类型的值时，就是比较值。

```js
var str1 = '100'
var str2 = '100'

str1 === str2 // true
```

而比较两个引用数据类型时，它是比较的对象的内存地址，如果两个对象是一模一样的，但是地址不同，也会返回 false。

```js
const obj1 = {}
const obj2 = {}

obj1 === obj2 // false
```

### 枚举对象属性

使用 `for in` 语句可以枚举对象中的属性。

```js
const obj = {
  a: 1,
  b: 2,
  c: 3
}

for (const key in obj) {
  console.log(key, obj[key])
}
/*
  a 1
  b 2
  c 3
*/
```
