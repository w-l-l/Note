# Vue生命周期

初始化显示：

- `beforeCreate()`：实例创建之前调用。  
实例完全被创建出来之前会执行它。  
data 和 methods 中的数据都还没初始化。

- `created()`：实例创建之后调用。  
data 和 methods 都已经被初始化好了，还没开始编译模板。  
如果要调用 methods 中的方法，或者操作 data 中的数据，最早只能在 `created` 中操作。  
一般在该钩子函数中发送 ajax 请求或启动定时器等异步任务。

- `beforeMount()`：模板挂载之前调用。  
模板在内存中已经编译好了，但是还没渲染到页面中。  
页面中的元素，还没有被真正替换过来，只是之前写的一些模板字符串。

- `mounted()`：模板挂载之后调用。  
内存中的模板已经渲染到真实的页面中去了。  
mounted 是实例创建期间的最后一个生命周期函数，当执行完 mounted 就表示，实例已经被完全创建好了（没有其他操作就一直在内存中）。  
一般在该钩子函数中发送 ajax 请求或启动定时器等异步任务。

更新状态：

- `beforeUpdate()`：数据更改后，页面更新前调用。  
data 中的数据发生改变，页面中显示的数据还是旧的，此时 data 中的数据是最新的，页面尚未和最新的数据保持同步。

- `updated()`：数据更改后，页面更新完成调用。  
页面和 data 中的数据已经保持同步了，都是最新的。

销毁 vue 实例：（`vm.$destroy()`）

- `beforeDestroy()`：实例销毁之前调用。  
此时实例仍然完全可用。  
通常在该钩子函数中做收尾工作，如：清除定时器。

- `destroyed()`：实例销毁之后调用。  
调用后，vue 实例对象指示的所有东西都会解除绑定，所有的事件监听器会被移除，所有的子实例也会被销毁。

`keep-alive` 缓存的组件：

- `activated()`：被 keep-alive 缓存的组件激活时调用。

- `deactivated()`：被 keep-alive 缓存的组件失活时调用。

**注意：这两个钩子函数在服务器端渲染期间是不被调用的**。

![Vue生命周期](./img/lifecycle.png)
